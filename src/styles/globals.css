@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 20%;

    --card: 0 0% 98%;
    --card-foreground: 0 0% 20%;

    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 20%;

    --primary: 0 0% 20%;
    --primary-foreground: 0 0% 98%;

    --secondary: 0 0% 90%;
    --secondary-foreground: 0 0% 20%;

    --muted: 0 0% 95%;
    --muted-foreground: 0 0% 45%;

    --accent: 0 0% 90%;
    --accent-foreground: 0 0% 20%;

    --destructive: 0 70% 50%;
    --destructive-foreground: 0 0% 98%;

    --border: 0 0% 85%;
    --input: 0 0% 90%;
    --ring: 0 0% 60%;

    /* Voxly Brand Colors */
    --voxly-purple: 264 83% 44%;
    --voxly-purple-light: 264 83% 54%;
    --voxly-purple-dark: 264 83% 34%;
    --voxly-green: 160 76% 55%;
    --voxly-gray-50: 0 0% 98%;
    --voxly-gray-100: 0 0% 96%;
    --voxly-gray-200: 0 0% 90%;
    --voxly-gray-300: 0 0% 83%;
    --voxly-gray-400: 0 0% 64%;
    --voxly-gray-500: 0 0% 45%;
    --voxly-gray-600: 0 0% 32%;
    --voxly-gray-700: 0 0% 25%;
    --voxly-gray-800: 0 0% 15%;
    --voxly-gray-900: 0 0% 9%;

    --novel-highlight-default: #f5f5f5;
    --novel-highlight-purple: #e5e5e5;
    --novel-highlight-red: #f0f0f0;
    --novel-highlight-yellow: #f8f8f8;
    --novel-highlight-blue: #ebebeb;
    --novel-highlight-green: #f2f2f2;
    --novel-highlight-orange: #f6f6f6;
    --novel-highlight-pink: #efefef;
    --novel-highlight-gray: #e8e8e8;

    /* Dashboard Chart Colors */
    --chart-purple: 264 83% 44%;
    --chart-green: 160 76% 55%;
    --chart-blue: 217 91% 60%;
    --chart-orange: 25 95% 53%;
    --chart-red: 0 84% 60%;
  }
}

@layer utilities {
  .bg-background {
    background-color: hsl(var(--background));
  }
  .text-foreground {
    color: hsl(var(--foreground));
  }
  .bg-card {
    background-color: hsl(var(--card));
  }
  .text-card-foreground {
    color: hsl(var(--card-foreground));
  }
  .bg-popover {
    background-color: hsl(var(--popover));
  }
  .text-popover-foreground {
    color: hsl(var(--popover-foreground));
  }
  .bg-primary {
    background-color: hsl(var(--primary));
  }
  .text-primary-foreground {
    color: hsl(var(--primary-foreground));
  }
  .bg-secondary {
    background-color: hsl(var(--secondary));
  }
  .text-secondary-foreground {
    color: hsl(var(--secondary-foreground));
  }
  .bg-muted {
    background-color: hsl(var(--muted));
  }
  .text-muted-foreground {
    color: hsl(var(--muted-foreground));
  }
  .bg-accent {
    background-color: hsl(var(--accent));
  }
  .text-accent-foreground {
    color: hsl(var(--accent-foreground));
  }
  .bg-destructive {
    background-color: hsl(var(--destructive));
  }
  .text-destructive-foreground {
    color: hsl(var(--destructive-foreground));
  }
  .border-border {
    border-color: hsl(var(--border));
  }
  .bg-input {
    background-color: hsl(var(--input));
  }
  .ring-ring {
    box-shadow: 0 0 0 3px hsl(var(--ring));
  }
  .bg-novel-highlight-default {
    background-color: var(--novel-highlight-default);
  }
  .bg-novel-highlight-purple {
    background-color: var(--novel-highlight-purple);
  }
  .bg-novel-highlight-red {
    background-color: var(--novel-highlight-red);
  }
  .bg-novel-highlight-yellow {
    background-color: var(--novel-highlight-yellow);
  }
  .bg-novel-highlight-blue {
    background-color: var(--novel-highlight-blue);
  }
  .bg-novel-highlight-green {
    background-color: var(--novel-highlight-green);
  }
  .bg-novel-highlight-orange {
    background-color: var(--novel-highlight-orange);
  }
  .bg-novel-highlight-pink {
    background-color: var(--novel-highlight-pink);
  }
  .bg-novel-highlight-gray {
    background-color: var(--novel-highlight-gray);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Radix Collapsible */
.CollapsibleContent {
  overflow: hidden;
}
.CollapsibleContent[data-state='open'] {
  animation: slideDown 300ms ease-in-out;
}
.CollapsibleContent[data-state='closed'] {
  animation: slideUp 300ms ease-in-out;
}

@keyframes slideDown {
  from {
    height: 0;
  }
  to {
    height: var(--radix-collapsible-content-height);
  }
}

@keyframes slideUp {
  from {
    height: var(--radix-collapsible-content-height);
  }
  to {
    height: 0;
  }
}

/* Tiptap */

.tiptap p.is-editor-empty:first-child::before {
 @apply text-slate-500;
  content: attr(data-placeholder);
  float: left;
  height: 0;
  pointer-events: none;
}

/* Prosemirror styles */

ul[data-type="taskList"] li > label {
  margin-right: 0.2rem;
  user-select: none;
}

@media screen and (max-width: 768px) {
  ul[data-type="taskList"] li > label {
    margin-right: 0.5rem;
  }
}

ul[data-type="taskList"] li > label input[type="checkbox"] {
  -webkit-appearance: none;
  appearance: none;
  background-color: hsl(var(--background));
  margin: 0;
  cursor: pointer;
  width: 1.2em;
  height: 1.2em;
  position: relative;
  top: 5px;
  border: 2px solid hsl(var(--border));
  margin-right: 0.3rem;
  display: grid;
  place-content: center;

  &:hover {
    background-color: hsl(var(--accent));
  }

  &:active {
    background-color: hsl(var(--accent));
  }

  &::before {
    content: "";
    width: 0.65em;
    height: 0.65em;
    transform: scale(0);
    transition: 120ms transform ease-in-out;
    box-shadow: inset 1em 1em;
    transform-origin: center;
    clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%);
  }

  &:checked::before {
    transform: scale(1);
  }
}

ul[data-type="taskList"] li[data-checked="true"] > div > p {
  color: var(--muted-foreground);
  text-decoration: line-through;
  text-decoration-thickness: 2px;
}

/* Overwrite tippy-box original max-width */

.tippy-box {
  max-width: 400px !important;
}

.ProseMirror:not(.dragging) .ProseMirror-selectednode {
  outline: none !important;
  background-color: var(--novel-highlight-blue);
  transition: background-color 0.2s;
  box-shadow: none;
}

.drag-handle {
  position: fixed;
  opacity: 1;
  transition: opacity ease-in 0.2s;
  border-radius: 0.25rem;

  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 10 10' style='fill: rgba(0, 0, 0, 0.5)'%3E%3Cpath d='M3,2 C2.44771525,2 2,1.55228475 2,1 C2,0.44771525 2.44771525,0 3,0 C3.55228475,0 4,0.44771525 4,1 C4,1.55228475 3.55228475,2 3,2 Z M3,6 C2.44771525,6 2,5.55228475 2,5 C2,4.44771525 2.44771525,4 3,4 C3.55228475,4 4,4.44771525 4,5 C4,5.55228475 3.55228475,6 3,6 Z M3,10 C2.44771525,10 2,9.55228475 2,9 C2,8.44771525 2.44771525,8 3,8 C3.55228475,8 4,8.44771525 4,9 C4,9.55228475 3.55228475,10 3,10 Z M7,2 C6.44771525,2 6,1.55228475 6,1 C6,0.44771525 6.44771525,0 7,0 C7.55228475,0 8,0.44771525 8,1 C8,1.55228475 7.55228475,2 7,2 Z M7,6 C6.44771525,6 6,5.55228475 6,5 C6,4.44771525 6.44771525,4 7,4 C7.55228475,4 8,4.44771525 8,5 C8,5.55228475 7.55228475,6 7,6 Z M7,10 C6.44771525,10 6,9.55228475 6,9 C6,8.44771525 6.44771525,8 7,8 C7.55228475,8 8,8.44771525 8,9 C8,9.55228475 7.55228475,10 7,10 Z'%3E%3C/path%3E%3C/svg%3E");
  background-size: calc(0.5em + 0.375rem) calc(0.5em + 0.375rem);
  background-repeat: no-repeat;
  background-position: center;
  width: 1.2rem;
  height: 1.5rem;
  z-index: 50;
  cursor: grab;

  &:hover {
    background-color: var(--novel-stone-100);
    transition: background-color 0.2s;
  }

  &:active {
    background-color: var(--novel-stone-200);
    transition: background-color 0.2s;
    cursor: grabbing;
  }

  &.hide {
    opacity: 0;
    pointer-events: none;
  }

  @media screen and (max-width: 600px) {
    display: none;
    pointer-events: none;
  }
}

.dark .drag-handle {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 10 10' style='fill: rgba(255, 255, 255, 0.5)'%3E%3Cpath d='M3,2 C2.44771525,2 2,1.55228475 2,1 C2,0.44771525 2.44771525,0 3,0 C3.55228475,0 4,0.44771525 4,1 C4,1.55228475 3.55228475,2 3,2 Z M3,6 C2.44771525,6 2,5.55228475 2,5 C2,4.44771525 2.44771525,4 3,4 C3.55228475,4 4,4.44771525 4,5 C4,5.55228475 3.55228475,6 3,6 Z M3,10 C2.44771525,10 2,9.55228475 2,9 C2,8.44771525 2.44771525,8 3,8 C3.55228475,8 4,8.44771525 4,9 C4,9.55228475 3.55228475,10 3,10 Z M7,2 C6.44771525,2 6,1.55228475 6,1 C6,0.44771525 6.44771525,0 7,0 C7.55228475,0 8,0.44771525 8,1 C8,1.55228475 7.55228475,2 7,2 Z M7,6 C6.44771525,6 6,5.55228475 6,5 C6,4.44771525 6.44771525,4 7,4 C7.55228475,4 8,4.44771525 8,5 C8,5.55228475 7.55228475,6 7,6 Z M7,10 C6.44771525,10 6,9.55228475 6,9 C6,8.44771525 6.44771525,8 7,8 C7.55228475,8 8,8.44771525 8,9 C8,9.55228475 7.55228475,10 7,10 Z'%3E%3C/path%3E%3C/svg%3E");
}

.clock {
  position: relative;
  margin: auto;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 90px;
  width: 200px;
  color: #333333;
  text-shadow: none;
  border-radius: 15px;
  border: 0;
}

.clock section {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 1rem;
}

.clock section p {
  font-size: 2rem; /* Default size */
}

.clock section small {
  color: #999999;
  text-shadow: none;
  font-size: 1rem; /* Default size */
}

@media (min-width: 640px) {
  .clock section p {
    font-size: 2.5rem;
  }

  .clock section small {
    font-size: 1.2rem;
  }
}

@media (min-width: 768px) {
  .clock section p {
    font-size: 3rem;
  }

  .clock section small {
    font-size: 1.4rem;
  }
}

@media (min-width: 1024px) {
  .clock section p {
    font-size: 3.5rem;
  }

  .clock section small {
    font-size: 1.6rem;
  }
}

.responsive-image {
  width: 100%;
  height: 100vh;
  object-fit: cover;
  margin: 0;
}

@media screen and (max-width: 1200px) {
  .responsive-image {
    width: 100%;
    height: 100vh;
    object-fit: cover;
    margin: 0;
  }
}

@media screen and (max-width: 768px) {
  .responsive-image {
    width: 100%;
    height: 100vh;
    object-fit: cover;
    margin: 0;
  }
}

@media screen and (max-width: 480px) {
  .responsive-image {
    width: 100%;
    height: 100vh;
    object-fit: cover;
    margin: 0;
  }
}

/* Gradient animation for text */
@keyframes gradient {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

.animate-gradient {
  background-size: 200% 200%;
  animation: gradient 3s ease infinite;
}

/* ==========================================
   VOXLY GLOBAL STYLES & RESPONSIVE STANDARDS
   ========================================== */

/* Voxly Brand Colors */
@layer utilities {
  /* Purple variations */
  .bg-voxly-purple {
    background-color: hsl(var(--voxly-purple));
  }
  .bg-voxly-purple-light {
    background-color: hsl(var(--voxly-purple-light));
  }
  .bg-voxly-purple-dark {
    background-color: hsl(var(--voxly-purple-dark));
  }
  .text-voxly-purple {
    color: hsl(var(--voxly-purple));
  }
  .text-voxly-purple-light {
    color: hsl(var(--voxly-purple-light));
  }
  .text-voxly-purple-dark {
    color: hsl(var(--voxly-purple-dark));
  }
  .border-voxly-purple {
    border-color: hsl(var(--voxly-purple));
  }

  /* Green variations */
  .bg-voxly-green {
    background-color: hsl(var(--voxly-green));
  }
  .text-voxly-green {
    color: hsl(var(--voxly-green));
  }
  .border-voxly-green {
    border-color: hsl(var(--voxly-green));
  }

  /* Purple gradient backgrounds */
  .bg-voxly-gradient {
    background: linear-gradient(135deg, hsl(var(--voxly-purple-dark)) 0%, hsl(var(--voxly-purple)) 50%, hsl(var(--voxly-purple-light)) 100%);
  }
  .bg-voxly-gradient-horizontal {
    background: linear-gradient(90deg, hsl(var(--voxly-purple-dark)) 0%, hsl(var(--voxly-purple-light)) 100%);
  }

  /* Chart colors */
  .chart-purple { color: hsl(var(--chart-purple)); }
  .chart-green { color: hsl(var(--chart-green)); }
  .chart-blue { color: hsl(var(--chart-blue)); }
  .chart-orange { color: hsl(var(--chart-orange)); }
  .chart-red { color: hsl(var(--chart-red)); }
}

/* Responsive Container Standards */
@layer components {
  /* Page container with consistent padding */
  .page-container {
    @apply w-full max-w-7xl mx-auto px-4 sm:px-6 md:px-8 lg:px-10;
  }

  /* Card component with Voxly styling */
  .voxly-card {
    @apply bg-white rounded-xl shadow-sm border border-gray-100 p-4 sm:p-6;
  }

  /* Stats card for dashboard */
  .stats-card {
    @apply bg-white rounded-xl shadow-sm border border-gray-100 p-4 sm:p-6 flex flex-col;
  }

  /* Primary button with Voxly purple */
  .btn-voxly {
    @apply px-4 py-2 text-sm font-medium text-white rounded-lg transition-all duration-200;
    background-color: hsl(var(--voxly-purple));
  }
  .btn-voxly:hover {
    background-color: hsl(var(--voxly-purple-dark));
  }
  .btn-voxly:focus {
    @apply outline-none ring-2 ring-offset-2;
    --tw-ring-color: hsl(var(--voxly-purple-light));
  }

  /* Secondary button */
  .btn-voxly-secondary {
    @apply px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 border;
    color: hsl(var(--voxly-purple));
    border-color: hsl(var(--voxly-purple));
    background-color: transparent;
  }
  .btn-voxly-secondary:hover {
    background-color: hsl(var(--voxly-purple));
    @apply text-white;
  }

  /* Navigation link styling */
  .nav-link {
    @apply text-sm font-medium text-gray-600 hover:text-gray-900 transition-colors duration-200 px-3 py-2 rounded-lg;
  }
  .nav-link:hover {
    @apply bg-gray-100;
  }
  .nav-link-active {
    @apply text-sm font-medium px-3 py-2 rounded-lg;
    color: hsl(var(--voxly-purple));
    background-color: hsl(var(--voxly-purple) / 0.1);
  }

  /* Mobile menu styling */
  .mobile-menu-overlay {
    @apply fixed inset-0 bg-black/50 z-40 transition-opacity duration-300;
  }
  .mobile-menu-panel {
    @apply fixed top-0 right-0 h-full w-64 bg-white shadow-xl z-50 transform transition-transform duration-300;
  }
}

/* Responsive Typography */
@layer base {
  /* Heading sizes */
  h1, .h1 {
    @apply text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold tracking-tight;
  }
  h2, .h2 {
    @apply text-xl sm:text-2xl md:text-3xl font-semibold tracking-tight;
  }
  h3, .h3 {
    @apply text-lg sm:text-xl md:text-2xl font-semibold;
  }
  h4, .h4 {
    @apply text-base sm:text-lg md:text-xl font-medium;
  }

  /* Body text */
  .text-body-lg {
    @apply text-base sm:text-lg leading-relaxed;
  }
  .text-body {
    @apply text-sm sm:text-base leading-relaxed;
  }
  .text-body-sm {
    @apply text-xs sm:text-sm leading-relaxed;
  }
}

/* Dashboard-specific styles */
@layer components {
  /* Metric value display */
  .metric-value {
    @apply text-2xl sm:text-3xl md:text-4xl font-bold;
    color: hsl(var(--voxly-purple));
  }
  .metric-label {
    @apply text-xs sm:text-sm text-gray-500 uppercase tracking-wide;
  }
  .metric-change-positive {
    @apply text-xs sm:text-sm font-medium text-green-600;
  }
  .metric-change-negative {
    @apply text-xs sm:text-sm font-medium text-red-600;
  }

  /* Chart container */
  .chart-container {
    @apply w-full h-48 sm:h-64 md:h-80;
  }

  /* Interview history list item */
  .interview-list-item {
    @apply flex flex-col sm:flex-row sm:items-center justify-between p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer;
  }
  .interview-list-item:last-child {
    @apply border-b-0;
  }
}

/* Score badge styling */
@layer components {
  .score-badge {
    @apply inline-flex items-center justify-center px-2 py-1 rounded-full text-xs font-semibold;
  }
  .score-badge-excellent {
    @apply bg-green-100 text-green-800;
  }
  .score-badge-good {
    @apply bg-blue-100 text-blue-800;
  }
  .score-badge-average {
    @apply bg-yellow-100 text-yellow-800;
  }
  .score-badge-needs-improvement {
    @apply bg-red-100 text-red-800;
  }
}
